{"swagger": "2.0", "basePath": "/", "paths": {"/role/": {"get": {"responses": {"HTTPStatus.OK": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/role_model_get"}}}}, "description": "Get full roles list", "operationId": "get_role_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["role"]}, "post": {"responses": {"HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.CONFLICT": {"description": "Conflict"}, "HTTPStatus.CREATED": {"description": "Created", "schema": {"$ref": "#/definitions/role_model_post"}}}, "description": "Create new role", "operationId": "post_role_handler", "parameters": [{"name": "name_short", "in": "query", "type": "string"}, {"name": "description", "in": "query", "type": "string"}, {"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["role"]}}, "/role/{role_uuid}": {"parameters": [{"name": "role_uuid", "in": "path", "required": true, "type": "string"}], "delete": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Ok"}}, "description": "Delete role", "operationId": "delete_role_uuid_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}], "tags": ["role"]}, "get": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/role_model_get"}}}}, "description": "Get role", "operationId": "get_role_uuid_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["role"]}}, "/user/": {"get": {"responses": {"HTTPStatus.OK": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/User%20Model"}}}}, "description": "Get full users list", "operationId": "get_user_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}, "post": {"responses": {"HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.CONFLICT": {"description": "Conflict"}, "HTTPStatus.CREATED": {"description": "Success", "schema": {"$ref": "#/definitions/User%20UUID%20Model"}}}, "description": "Create new User", "operationId": "post_user_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "login", "in": "query", "type": "string"}, {"name": "password", "in": "query", "type": "string"}, {"name": "first_name", "in": "query", "type": "string"}, {"name": "second_name", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}}, "/user/password/{user_uuid}": {"parameters": [{"name": "user_uuid", "in": "path", "required": true, "type": "string"}], "put": {"responses": {"HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Ok"}}, "description": "Change user data", "operationId": "put_user_password_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "password", "in": "query", "type": "string"}], "tags": ["user"]}}, "/user/role/{user_uuid}": {"parameters": [{"name": "user_uuid", "in": "path", "required": true, "type": "string"}], "delete": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.CREATED": {"description": "OK"}}, "description": "Delete user role", "operationId": "delete_user_role_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "role_uuid", "in": "query", "type": "string"}], "tags": ["user"]}, "get": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Success", "schema": {"type": "array", "items": {"$ref": "#/definitions/User%27s%20roles%20Model"}}}}, "description": "Get user's roles", "operationId": "get_user_role_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}, "post": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.CONFLICT": {"description": "Conflict"}, "HTTPStatus.CREATED": {"description": "Created"}}, "description": "Append new role to user", "operationId": "post_user_role_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "role_uuid", "in": "query", "type": "string"}], "tags": ["user"]}}, "/user/yandex": {"post": {"responses": {"HTTPStatus.UNAUTHORIZED": {"description": "Unauthorized"}, "HTTPStatus.CONFLICT": {"description": "Conflict"}, "HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.CREATED": {"description": "Success", "schema": {"$ref": "#/definitions/User%20UUID%20Model"}}}, "description": "Create new User based on yandex ID API", "operationId": "post_user_yandes_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "token", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}}, "/user/yandex/{user_uuid}": {"parameters": [{"name": "user_uuid", "in": "path", "required": true, "type": "string"}], "delete": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.UNPROCESSABLE_ENTITY": {"description": "Unprocessable entity"}, "HTTPStatus.OK": {"description": "Success", "schema": {"$ref": "#/definitions/User%20UUID%20Model"}}}, "operationId": "Reconect user to self authorization", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "password", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}}, "/user/{user_uuid}": {"parameters": [{"name": "user_uuid", "in": "path", "required": true, "type": "string"}], "delete": {"responses": {"HTTPStatus.CONFLICT": {"description": "Conflict"}, "HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Ok"}}, "description": "Delete user by user_uuid", "operationId": "delete_user_id_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}], "tags": ["user"]}, "get": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Success", "schema": {"$ref": "#/definitions/User%20Model"}}}, "description": "Get user by user_uuid", "operationId": "get_user_id_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "X-Fields", "in": "header", "type": "string", "format": "mask", "description": "An optional fields mask"}], "tags": ["user"]}, "put": {"responses": {"HTTPStatus.NOT_FOUND": {"description": "Not found"}, "HTTPStatus.OK": {"description": "Ok"}}, "description": "Change user data", "operationId": "put_user_id_handler", "parameters": [{"name": "action_key", "in": "query", "type": "string"}, {"name": "first_name", "in": "query", "type": "string"}, {"name": "second_name", "in": "query", "type": "string"}], "tags": ["user"]}}}, "info": {"title": "User Auth API", "version": "1.0", "description": "A simple user auth API"}, "produces": ["application/json"], "consumes": ["application/json"], "tags": [{"name": "role", "description": "Roles crud operations"}, {"name": "user", "description": "User data crud operations"}], "definitions": {"role_model_get": {"properties": {"role_id": {"type": "string"}, "name_short": {"type": "string"}, "description": {"type": "string"}}, "type": "object"}, "role_model_post": {"properties": {"role_uuid": {"type": "string"}}, "type": "object"}, "User Model": {"properties": {"user_id": {"type": "string"}, "login": {"type": "string"}, "service": {"type": "string"}, "first_name": {"type": "string"}, "second_name": {"type": "string"}}, "type": "object"}, "User UUID Model": {"properties": {"user_uuid": {"type": "string"}}, "type": "object"}, "User's roles Model": {"properties": {"role_id": {"type": "string"}, "name_short": {"type": "string"}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}}}
